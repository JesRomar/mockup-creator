<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!-- Toolbar -->
<!-- <app-navbar></app-navbar> -->

<div class="content" role="main">
  <!-- PALETTE SECTION -->

  <div class="palette-div">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="elements-tab"
          data-bs-toggle="tab"
          data-bs-target="#elements"
          type="button"
          role="tab"
          aria-controls="elements"
          aria-selected="true"
        >
          Elements
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="templates-tab"
          data-bs-toggle="tab"
          data-bs-target="#templates"
          type="button"
          role="tab"
          aria-controls="templates"
          aria-selected="false"
        >
          Templates
        </button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div
        class="tab-pane fade show active"
        id="elements"
        role="tabpanel"
        aria-labelledby="elements-tab"
      >
        <div
          class="palette-container"
          cdkDropListGroup
          cdkDropList
          cdkDropListSortingDisabled
        >
          <button
            class="palette-item"
            (click)="addComponent('nav')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'nav')"
          >
            Navbar
          </button>
          <button
            class="palette-item"
            (click)="addComponent('link')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'link')"
          >
            Link
          </button>
          
          <!-- text-dropdown-menu start -->
          <div class="palette-item sub-menu" id="textOp"
          #textOp style="padding: 1px; padding-top: 1px;"
          >
          <button class="sub-menu-button palette-item">Text*</button>
            <div class="sub-menu-dropdown" >
              <button
                class="palette-item"
                (click)="addComponent('header')"
                cdkDrag
                (cdkDragEnded)="onDragEndedTextMenu($event)"
                (cdkDragEnded)="onDragEndedAddComponent('header')"
              >
                Header
              </button>

              <button
                class="palette-item"
                (click)="addComponent('paragraph')"
                cdkDrag
                (cdkDragEnded)="onDragEndedTextMenu($event)"
                (cdkDragEnded)="onDragEndedAddComponent('paragraph')"
              >
                Paragraph
              </button>

              <button
                class="palette-item"
                (click)="addComponent('label')"
                cdkDrag
                (cdkDragEnded)="onDragEndedTextMenu($event)"
                (cdkDragEnded)="onDragEndedAddComponent('label')"
              >
                Label
              </button>
            </div>
          </div>
          <!-- text-dropdown end -->

          <!--
          <button
            class="palette-item"
            (click)="addComponent('header')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'header')"
          >
            Header
          </button>
          <button
            class="palette-item"
            (click)="addComponent('paragraph')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'paragraph')"
          >
            Paragraph
          </button>
          <button
            class="palette-item"
            (click)="addComponent('label')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'label')"
          >
            Label
          </button>
          -->
        <!-- input-dropdown-menu start -->
        <div class="palette-item sub-menu" id="inputOp"
        #inputOp style="padding: 1px; padding-top: 1px;"
        >

          <button class="sub-menu-button palette-item">Input*</button>
          <div class="sub-menu-dropdown" >
            <button
              class="palette-item"
              (click)="addComponent('button')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'button')"
            >
                  Button
                </button>

            <button
              class="palette-item"
              (click)="addComponent('dropdown')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'dropdown')"
            >
              Dropdown
            </button>
            <button
              class="palette-item"
              (click)="addComponent('checkbox')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'checkbox')"
            >
              Checkbox
            </button>

            <button
              class="palette-item"
              (click)="addComponent('radio')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'radio')"
            >
              Radio
            </button>
            <button
              class="palette-item"
              (click)="addComponent('input')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'input')"
            >
              Input Field
            </button>
            <button
              class="palette-item"
              (click)="addComponent('textbox')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'textbox')"
            >
              Textbox
            </button>
            <button
              class="palette-item"
              (click)="addComponent('datepicker')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'datepicker')"
            >
              DatePicker
            </button>
            <button
              class="palette-item"
              (click)="addComponent('modal')"
              cdkDrag
              (cdkDragEnded)="onDragEndedAddComponent($event,'modal')"
            >
          </div>
        </div>

      <!-- input-dropdown-menu end -->

      
            Modal
          </button>
          <button
            class="palette-item"
            (click)="addComponent('popup')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'popup')"
            [hidden]="true"
          >
            Popup
          </button>
          <button
            class="palette-item"
            (click)="addComponent('img')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'img')"
          >
            Image
          </button>
          <button 
            class="palette-item" 
            (click)="addComponent('table')"
            cdkDrag
            (cdkDragEnded)="onDragEndedAddComponent($event,'table')"
            >
            Table
          </button>
        </div>
      </div>
      <div
        class="tab-pane fade"
        id="templates"
        role="tabpanel"
        aria-labelledby="templates-tab"
      >
        <div
          class="tab-pane fade show active"
          id="elements"
          role="tabpanel"
          aria-labelledby="elements-tab"
        >
          <button class="palette-item" (click)="addComponentLogin()">
            Login
          </button>

          <button class="palette-item" (click)="addComponentImageLabel()">
            Image Label
          </button>

          <button class="palette-item" (click)="addComponentSearchScreen()">
            Search Screen
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- CANVAS SECTION -->

  <div id="canvas-container">
    <div
      id="canvas"
      #canvas
      (mouseenter)="domInsideCanvas = true"
      (mouseleave)="domInsideCanvas = false"
    >
      <div id="canvasBody">
        <app-wrapper
          *ngFor="let component of componentList; let i = index"
          class="wrapper"
          (click)="clickHandler(component)"
          [childComp]="component"
          [canvasRef]="component.canvas"
          [componentList]="componentList"
          [mousePositionX]="mousePositionX"
          [mousePositionY]="mousePositionY"
          [canvasLeft]="canvasLeft"
          [canvasTop]="canvasTop"
          [canvasW]="canvasW"
          [xCounter]="xCounter"
          [ngClass]="{ 'nav-wrapper': component.props.typeObj == 'nav' }"
          (mousedown)="mouseGalawX($event)"
          (updateDataEvent2)="passData2($event)"
          (updateDataEventX)="passDataX($event)"
          [whatComponent]="whatComponent"
        >
        </app-wrapper>
      </div>
    </div>
  </div>

  <!-- CODE SECTION -->

  <div id="code-container">
    <!-- <button (click) = "deleteComponent()" >Delete Component</button> -->
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="properties-tab"
          data-bs-toggle="tab"
          data-bs-target="#properties"
          type="button"
          role="tab"
          aria-controls="properties"
          aria-selected="true"
        >
          Properties
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="css-tab"
          data-bs-toggle="tab"
          data-bs-target="#css"
          type="button"
          role="tab"
          aria-controls="css"
          aria-selected="false"
        >
          CSS
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="code-tab"
          data-bs-toggle="tab"
          data-bs-target="#code"
          type="button"
          role="tab"
          aria-controls="code"
          aria-selected="false"
        >
          CODE
        </button>
      </li>
    </ul>
    <div class="tab-content tab-container" id="myTabContent">
      <div
        class="tab-pane fade show active"
        id="properties"
        role="tabpanel"
        aria-labelledby="properties-tab"
      >
        <app-property
          [property]="selected"
          [selectedIdx]="selectedComponent"
          [compList]="componentList"
        ></app-property>
      </div>
      <div
        class="tab-pane fade css-textarea-container"
        id="css"
        role="tabpanel"
        aria-labelledby="css-tab"
      >
        <h3 
        style="background-color: #2e9c6b; margin: 0" 
        (click)="addAllCSSRule(cssTextArea.value)"
        (click)="cssReceiveMessage()">Save CSS</h3>
        <!--
        <h3
        style="background-color: #a83241; margin: 0" 
        (click)="deleteCSSRule(cssTextArea.value)"
        (click)="cssReceiveMessage()">Delete CSS Rule</h3>
        -->
        <textarea 
        style="margin: 0; width: 100%;" 
        cols="30" 
        rows="5"
        #cssTextArea
        name="css-textarea" id="css-textarea"
        ></textarea>
        
      <!-- CSS Code
        <textarea 
        style="margin: 0" 
        cols="30" 
        rows="5"
        name="css-textarea" id="css-textarea"
        [innerHTML]="style"></textarea>
        <!!-- include this on the textarea above if need be.
        (keyup)="cssReceiveMessage($event)"
        (keyup)="refresh()"
        -->
        <!--<a routerLink="/refresh">Testing</a> ->->
      -->
      </div>
      <div
        class="tab-pane fade"
        id="code"
        role="tabpanel"
        aria-labelledby="code-tab"
      >
        <button class="btnCopy" (click)="copyMessage(htmlCode)">Copy</button>
        <button class="btnCopy" (click)="downloadCode(htmlCode)">
          Download
        </button>
        <code [innerText]="htmlCode"> </code>
      </div>
    </div>
  </div>
</div>
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!--<router-outlet></router-outlet> -->


